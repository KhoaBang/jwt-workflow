<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1006.8825335717435" height="1644.3164143628178"><desc>title%20Quy%20tr%C3%ACnh%20authen%20s%E1%BB%AD%20d%E1%BB%A5ng%20access%20token%20v%C3%A0%20refresh%20token%0A%0AClient-%3EServer%20%3AUsername%20%2B%20encrypted(password)%0A%0AServer-%3EServer%20%3A%20validate%20user's%20info%20%5Cnif%20correct%2C%20generate%20%5Cnaccess%20token%20and%20refresh%20token%0A%0AServer%20-%3E%20Database%20%3A%20refresh%20token%0A%0ADatabase%20-%3EDatabase%3A%20store%20refresh%20token%20with%20%22active%22%20status%0A%0AServer%20-%3EClient%20%3A%20access%20token%20%2B%20refresh%20token%20%2B%20user's%20info%20%0A%0AClient%20-%3E%20Client%3A%20store%20refresh%20token%20to%20local%20storage%20%0A%0AClient%20-%3E%20Server%20%3A%20request%20%2B%20valid%20(access%20token)%0A%0AServer%20-%3E%20Client%20%3A%20Requested%20content%0A%0AClient%20%3C--%3E%20Server%20%3A%20...%0A%0AClient%20-%3E%20Server%20%3A%20request%20%2B%20expired%20(access%20token)%0A%0AServer%20-%3E%20Client%20%3A%20Denied%0A%0AClient%20-%3E%20Server%20%3A%20refresh%20token%0A%0AServer%20-%3E%20Database%20%3A%20check%20status%20of%20refresh%20token%20(active%2Frevoked)%0A%0ADatabase%20-%3E%20Server%20%3A%20active%0A%0AServer%20-%3E%20Server%3A%20gen%20new%20refresh%20token%20%2B%20new%20access%20token%0A%0AServer%20-%3E%20Database%20%3A%20new%20refresh%20token%0A%0ADatabase%20-%3EDatabase%3A%20update%20refresh%20token%20with%20%22active%22%20status%0A%0AServer%20-%3E%20Client%20%3A%20new%20refresh%20token%20%2B%20new%20access%20token%0A%0AClient%20-%3E%20Client%3A%20store%20refresh%20token%20to%20local%20storage%20%0A%0AClient%20-%3E%20Server%20%3A%20request%20%2B%20valid%20(access%20token)%0A%0AServer%20-%3E%20Client%20%3A%20Requested%20content%0A%0AClient%20%3C--%3E%20Server%20%3A%20...%0A%0AClient%20-%3E%20Server%20%3A%20log%20out%20request%20%2B%20refresh%20token%0A%0AServer%20-%3E%20Server%3A%20check%20valid%20refresh%20token%0A%0AServer%20-%3E%20Database%20%3A%20refresh%20token%0A%0ADatabase%20-%3EDatabase%3A%20update%20refresh%20token%20with%20%22revoked%22%20status%0A%0ADatabase-%3EServer%3A%20ACK%0A%0AServer-%3E%20Client%3A%20ACK%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1006" height="1644"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 95.73914152281817 L 44.631447682160164 1644.3164143628178" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 95.73914152281817 L 363.159641182681 1644.3164143628178" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 702.4966878326159 95.73914152281817 L 702.4966878326159 1644.3164143628178" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.167601650000002 51.63409261281818 L 81.09529371432032 51.63409261281818 L 81.09529371432032 95.73914152281817 L 8.167601650000002 95.73914152281817 L 8.167601650000002 51.63409261281818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="25.891297230500008" y="79.40393822281817" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 323.8468419034505 51.63409261281818 L 402.47244046191145 51.63409261281818 L 402.47244046191145 95.73914152281817 L 323.8468419034505 95.73914152281817 L 323.8468419034505 51.63409261281818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="341.57053748395055" y="79.40393822281817" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 653.3950473058268 51.63409261281818 L 751.598328359405 51.63409261281818 L 751.598328359405 95.73914152281817 L 653.3950473058268 95.73914152281817 L 653.3950473058268 51.63409261281818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="671.1187428863268" y="79.40393822281817" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Database</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="236.78668212890625" y="24.651306798181814" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Quy trình authen sử dụng access token và refresh token</text></g><g><rect fill="white" stroke="none" x="90.83686549992059" y="128.4095481228182" width="226.117357865" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="93.28714599492059" y="143.1112310928182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Username + encrypted(password)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 149.64531241281819 L 349.71032379901436 149.64531241281819" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,149.64531241281819) translate(-363.159641182681,-149.64531241281819)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 349.54697176601434 142.83897770448485 L 363.159641182681 149.64531241281819 L 349.54697176601434 156.45164712115152 Z"/></g></g><g><rect fill="white" stroke="none" x="382.48963175434767" y="174.1481173628182" width="129.93269599976563" height="21.23576429"/><rect fill="white" stroke="none" x="382.48963175434767" y="190.4833206628182" width="131.19970954957031" height="21.23576429"/><rect fill="white" stroke="none" x="382.48963175434767" y="206.81852396281818" width="208.62988533082031" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="384.9399122493477" y="188.84980033281818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">validate user's info </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="384.9399122493477" y="205.18500363281817" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">if correct, generate </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="384.9399122493477" y="221.52020693281816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">access token and refresh token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 228.0542882528182 L 428.500454382681 228.0542882528182 L 428.500454382681 249.2900525428182 L 376.60895856634767 249.2900525428182" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,249.2900525428182) translate(-363.159641182681,-249.2900525428182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 376.7723105993477 242.48371783448485 L 363.159641182681 249.2900525428182 L 376.7723105993477 256.0963872511515 Z"/></g></g><g><rect fill="white" stroke="none" x="487.59694681782423" y="273.79285749281814" width="90.46243537964844" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="490.04722731282425" y="288.4945404628181" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">refresh token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 295.02862178281816 L 689.0473704489492 295.02862178281816" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(702.4966878326159,295.02862178281816) translate(-702.4966878326159,-295.02862178281816)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 688.8840184159492 288.2222870744848 L 702.4966878326159 295.02862178281816 L 688.8840184159492 301.8349564911515 Z"/></g></g><g><rect fill="white" stroke="none" x="721.8266784042826" y="319.53142673281815" width="253.23259224" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="724.2769588992826" y="334.2331097028181" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">store refresh token with "active" status</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 702.4966878326159 340.7671910228181 L 767.8375010326158 340.7671910228181 L 767.8375010326158 362.00295531281813 L 715.9460052162825 362.00295531281813" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(702.4966878326159,362.00295531281813) translate(-702.4966878326159,-362.00295531281813)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 716.1093572492825 355.1966206044848 L 702.4966878326159 362.00295531281813 L 716.1093572492825 368.80929002115147 Z"/></g></g><g><rect fill="white" stroke="none" x="63.96143825382684" y="386.5057602628181" width="279.8682123571875" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="66.41171874882684" y="401.2074432328181" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">access token + refresh token + user's info </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 407.74152455281813 L 58.08076506582683 407.74152455281813" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(44.631447682160164,407.74152455281813) translate(-44.631447682160164,-407.74152455281813)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 400.9351898444848 L 44.631447682160164 407.74152455281813 L 58.244117098826834 414.5478592611515 Z"/></g></g><g><rect fill="white" stroke="none" x="63.96143825382683" y="432.2443295028182" width="234.69285835328125" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="66.41171874882683" y="446.94601247281815" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">store refresh token to local storage </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 453.48009379281814 L 109.97226088216016 453.48009379281814 L 109.97226088216016 474.71585808281816 L 58.08076506582683 474.71585808281816" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(44.631447682160164,474.71585808281816) translate(-44.631447682160164,-474.71585808281816)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 467.9095233744848 L 44.631447682160164 474.71585808281816 L 58.244117098826834 481.5221927911515 Z"/></g></g><g><rect fill="white" stroke="none" x="103.86836726994012" y="499.2186630328181" width="200.05435432496094" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="106.31864776494012" y="513.9203460028181" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">request + valid (access token)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 520.4544273228181 L 349.71032379901436 520.4544273228181" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,520.4544273228181) translate(-363.159641182681,-520.4544273228181)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 349.54697176601434 513.6480926144848 L 363.159641182681 520.4544273228181 L 349.54697176601434 527.2607620311514 Z"/></g></g><g><rect fill="white" stroke="none" x="139.90984828800654" y="544.957232272818" width="127.97139228882813" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="142.36012878300653" y="559.658915242818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Requested content</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 566.192996562818 L 58.08076506582683 566.192996562818" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(44.631447682160164,566.192996562818) translate(-44.631447682160164,-566.192996562818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 559.3866618544847 L 44.631447682160164 566.192996562818 L 58.244117098826834 572.9993312711514 Z"/></g></g><g><rect fill="white" stroke="none" x="195.3357439789245" y="590.695801512818" width="17.119600906992186" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="197.7860244739245" y="605.397484482818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">...</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 58.08076506582683 611.931565802818 L 349.71032379901436 611.931565802818" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(363.159641182681,611.931565802818) translate(-363.159641182681,-611.931565802818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 349.54697176601434 605.1252310944847 L 363.159641182681 611.931565802818 L 349.54697176601434 618.7379005111513 Z"/><g transform="translate(44.631447682160164,611.931565802818) translate(-44.631447682160164,-611.931565802818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 605.1252310944847 L 44.631447682160164 611.931565802818 L 58.244117098826834 618.7379005111513 Z"/></g></g></g><g><rect fill="white" stroke="none" x="94.90273006290887" y="636.4343707528179" width="217.98562873902344" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="97.35301055790887" y="651.1360537228179" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">request + expired (access token)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 657.670135042818 L 349.71032379901436 657.670135042818" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,657.670135042818) translate(-363.159641182681,-657.670135042818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 349.54697176601434 650.8638003344846 L 363.159641182681 657.670135042818 L 349.54697176601434 664.4764697511513 Z"/></g></g><g><rect fill="white" stroke="none" x="178.21692378849482" y="682.1729399928179" width="51.357241287851565" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="180.6672042834948" y="696.8746229628179" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Denied</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 703.4087042828179 L 58.08076506582683 703.4087042828179" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(44.631447682160164,703.4087042828179) translate(-44.631447682160164,-703.4087042828179)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 696.6023695744846 L 44.631447682160164 703.4087042828179 L 58.244117098826834 710.2150389911512 Z"/></g></g><g><rect fill="white" stroke="none" x="158.6643267425964" y="727.9115092328178" width="90.46243537964844" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="161.11460723759637" y="742.6131922028178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">refresh token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 749.1472735228178 L 349.71032379901436 749.1472735228178" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,749.1472735228178) translate(-363.159641182681,-749.1472735228178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 349.54697176601434 742.3409388144845 L 363.159641182681 749.1472735228178 L 349.54697176601434 755.9536082311512 Z"/></g></g><g><rect fill="white" stroke="none" x="382.48963175434767" y="773.6500784728178" width="300.6770502478125" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="384.9399122493477" y="788.3517614428177" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">check status of refresh token (active/revoked)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 794.8858427628178 L 689.0473704489492 794.8858427628178" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(702.4966878326159,794.8858427628178) translate(-702.4966878326159,-794.8858427628178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 688.8840184159492 788.0795080544844 L 702.4966878326159 794.8858427628178 L 688.8840184159492 801.6921774711511 Z"/></g></g><g><rect fill="white" stroke="none" x="511.2297211708516" y="819.3886477128177" width="43.19688667359375" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="513.6800016658516" y="834.0903306828177" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">active</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 702.4966878326159 840.6244120028177 L 376.60895856634767 840.6244120028177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,840.6244120028177) translate(-363.159641182681,-840.6244120028177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 376.7723105993477 833.8180772944844 L 363.159641182681 840.6244120028177 L 376.7723105993477 847.4307467111511 Z"/></g></g><g><rect fill="white" stroke="none" x="382.48963175434767" y="865.1272169528177" width="283.1968256384375" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="384.9399122493477" y="879.8288999228176" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">gen new refresh token + new access token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 886.3629812428177 L 428.500454382681 886.3629812428177 L 428.500454382681 907.5987455328177 L 376.60895856634767 907.5987455328177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,907.5987455328177) translate(-363.159641182681,-907.5987455328177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 376.7723105993477 900.7924108244844 L 363.159641182681 907.5987455328177 L 376.7723105993477 914.405080241151 Z"/></g></g><g><rect fill="white" stroke="none" x="472.11376963276564" y="932.1015504828176" width="121.42878974976563" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="474.56405012776565" y="946.8032334528176" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">new refresh token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 953.3373147728176 L 689.0473704489492 953.3373147728176" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(702.4966878326159,953.3373147728176) translate(-702.4966878326159,-953.3373147728176)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 688.8840184159492 946.5309800644843 L 702.4966878326159 953.3373147728176 L 688.8840184159492 960.143649481151 Z"/></g></g><g><rect fill="white" stroke="none" x="721.8266784042826" y="977.8401197228176" width="265.4802729040625" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="724.2769588992826" y="992.5418026928176" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">update refresh token with "active" status</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 702.4966878326159 999.0758840128176 L 767.8375010326158 999.0758840128176 L 767.8375010326158 1020.3116483028176 L 715.9460052162825 1020.3116483028176" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(702.4966878326159,1020.3116483028176) translate(-702.4966878326159,-1020.3116483028176)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 716.1093572492825 1013.5053135944843 L 702.4966878326159 1020.3116483028176 L 716.1093572492825 1027.117983011151 Z"/></g></g><g><rect fill="white" stroke="none" x="76.56342037052606" y="1044.8144532528177" width="254.66424812378906" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="79.01370086552606" y="1059.5161362228177" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">new refresh token + new access token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 1066.0502175428176 L 58.08076506582683 1066.0502175428176" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(44.631447682160164,1066.0502175428176) translate(-44.631447682160164,-1066.0502175428176)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 1059.2438828344843 L 44.631447682160164 1066.0502175428176 L 58.244117098826834 1072.8565522511508 Z"/></g></g><g><rect fill="white" stroke="none" x="63.96143825382683" y="1090.5530224928175" width="234.69285835328125" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="66.41171874882683" y="1105.2547054628176" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">store refresh token to local storage </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 1111.7887867828176 L 109.97226088216016 1111.7887867828176 L 109.97226088216016 1133.0245510728175 L 58.08076506582683 1133.0245510728175" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(44.631447682160164,1133.0245510728175) translate(-44.631447682160164,-1133.0245510728175)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 1126.2182163644843 L 44.631447682160164 1133.0245510728175 L 58.244117098826834 1139.8308857811508 Z"/></g></g><g><rect fill="white" stroke="none" x="103.86836726994012" y="1157.5273560228177" width="200.05435432496094" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="106.31864776494012" y="1172.2290389928178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">request + valid (access token)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 1178.7631203128176 L 349.71032379901436 1178.7631203128176" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,1178.7631203128176) translate(-363.159641182681,-1178.7631203128176)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 349.54697176601434 1171.9567856044844 L 363.159641182681 1178.7631203128176 L 349.54697176601434 1185.5694550211508 Z"/></g></g><g><rect fill="white" stroke="none" x="139.90984828800654" y="1203.2659252628177" width="127.97139228882813" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="142.36012878300653" y="1217.9676082328178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Requested content</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 1224.5016895528177 L 58.08076506582683 1224.5016895528177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(44.631447682160164,1224.5016895528177) translate(-44.631447682160164,-1224.5016895528177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 1217.6953548444844 L 44.631447682160164 1224.5016895528177 L 58.244117098826834 1231.3080242611509 Z"/></g></g><g><rect fill="white" stroke="none" x="195.3357439789245" y="1249.0044945028178" width="17.119600906992186" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="197.7860244739245" y="1263.706177472818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">...</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 58.08076506582683 1270.2402587928177 L 349.71032379901436 1270.2402587928177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(363.159641182681,1270.2402587928177) translate(-363.159641182681,-1270.2402587928177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 349.54697176601434 1263.4339240844845 L 363.159641182681 1270.2402587928177 L 349.54697176601434 1277.046593501151 Z"/><g transform="translate(44.631447682160164,1270.2402587928177) translate(-44.631447682160164,-1270.2402587928177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 1263.4339240844845 L 44.631447682160164 1270.2402587928177 L 58.244117098826834 1277.046593501151 Z"/></g></g></g><g><rect fill="white" stroke="none" x="101.8175326141784" y="1294.7430637428179" width="204.15602363648438" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="104.2678131091784" y="1309.444746712818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">log out request + refresh token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 1315.9788280328178 L 349.71032379901436 1315.9788280328178" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,1315.9788280328178) translate(-363.159641182681,-1315.9788280328178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 349.54697176601434 1309.1724933244845 L 363.159641182681 1315.9788280328178 L 349.54697176601434 1322.785162741151 Z"/></g></g><g><rect fill="white" stroke="none" x="382.48963175434767" y="1340.4816329828177" width="167.05508674683594" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="384.9399122493477" y="1355.1833159528178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">check valid refresh token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 1361.7173972728178 L 428.500454382681 1361.7173972728178 L 428.500454382681 1382.9531615628177 L 376.60895856634767 1382.9531615628177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,1382.9531615628177) translate(-363.159641182681,-1382.9531615628177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 376.7723105993477 1376.1468268544845 L 363.159641182681 1382.9531615628177 L 376.7723105993477 1389.759496271151 Z"/></g></g><g><rect fill="white" stroke="none" x="487.59694681782423" y="1407.455966512818" width="90.46243537964844" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="490.04722731282425" y="1422.157649482818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">refresh token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 1428.6917308028178 L 689.0473704489492 1428.6917308028178" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(702.4966878326159,1428.6917308028178) translate(-702.4966878326159,-1428.6917308028178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 688.8840184159492 1421.8853960944846 L 702.4966878326159 1428.6917308028178 L 688.8840184159492 1435.498065511151 Z"/></g></g><g><rect fill="white" stroke="none" x="721.8266784042826" y="1453.1945357528177" width="279.33854927125" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="724.2769588992826" y="1467.8962187228178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">update refresh token with "revoked" status</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 702.4966878326159 1474.4303000428179 L 767.8375010326158 1474.4303000428179 L 767.8375010326158 1495.6660643328178 L 715.9460052162825 1495.6660643328178" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(702.4966878326159,1495.6660643328178) translate(-702.4966878326159,-1495.6660643328178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 716.1093572492825 1488.8597296244845 L 702.4966878326159 1495.6660643328178 L 716.1093572492825 1502.472399041151 Z"/></g></g><g><rect fill="white" stroke="none" x="515.3063050331563" y="1520.168869282818" width="35.04371894898438" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="517.7565855281563" y="1534.870552252818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ACK</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 702.4966878326159 1541.4046335728178 L 376.60895856634767 1541.4046335728178" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(363.159641182681,1541.4046335728178) translate(-363.159641182681,-1541.4046335728178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 376.7723105993477 1534.5982988644846 L 363.159641182681 1541.4046335728178 L 376.7723105993477 1548.210968281151 Z"/></g></g><g><rect fill="white" stroke="none" x="186.37368495792842" y="1565.907438522818" width="35.04371894898438" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="188.8239654529284" y="1580.609121492818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ACK</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 363.159641182681 1587.143202812818 L 58.08076506582683 1587.143202812818" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(44.631447682160164,1587.143202812818) translate(-44.631447682160164,-1587.143202812818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 58.244117098826834 1580.3368681044847 L 44.631447682160164 1587.143202812818 L 58.244117098826834 1593.9495375211511 Z"/></g></g></g><g/><g/><g/></g></svg>